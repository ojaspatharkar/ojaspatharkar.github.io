!function(e,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n(require("lodash"));else if("function"==typeof define&&define.amd)define(["lodash"],n);else{var t="object"==typeof exports?n(require("lodash")):n(e._);for(var o in t)("object"==typeof exports?exports:e)[o]=t[o]}}(window,(function(e){return function(e){var n={};function t(o){if(n[o])return n[o].exports;var d=n[o]={i:o,l:!1,exports:{}};return e[o].call(d.exports,d,d.exports,t),d.l=!0,d.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var d in e)t.d(o,d,function(n){return e[n]}.bind(null,d));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=2)}([function(n,t){n.exports=e},,function(e,n,t){"use strict";t.r(n),t.d(n,"EventType",(function(){return o})),t.d(n,"factory",(function(){return d})),t.d(n,"propagation",(function(){return be}));var o,d={};t.r(d),t.d(d,"appMenuReorder",(function(){return a})),t.d(d,"componentDeleted",(function(){return r})),t.d(d,"componentGfppClicked",(function(){return i})),t.d(d,"appActionClicked",(function(){return c})),t.d(d,"connectedComponentPasted",(function(){return p})),t.d(d,"connectedComponentDuplicated",(function(){return l})),t.d(d,"concurrentPanelEdit",(function(){return u})),t.d(d,"widgetPasted",(function(){return s})),t.d(d,"widgetDuplicated",(function(){return f})),t.d(d,"controllerAdded",(function(){return m})),t.d(d,"controllerSettingsButtonClicked",(function(){return g})),t.d(d,"controllerGfppClicked",(function(){return v})),t.d(d,"stateChanged",(function(){return y})),t.d(d,"stateAdded",(function(){return C})),t.d(d,"stateDuplicated",(function(){return h})),t.d(d,"pageDeleted",(function(){return R})),t.d(d,"siteWasPublished",(function(){return P})),t.d(d,"siteWasFirstSaved",(function(){return T})),t.d(d,"siteWasSaved",(function(){return D})),t.d(d,"startConfiguration",(function(){return E})),t.d(d,"welcomeSectionMainActionClicked",(function(){return w})),t.d(d,"widgetGfppClicked",(function(){return S})),t.d(d,"appUpgradeCompleted",(function(){return b})),t.d(d,"globalDesignPresetChanged",(function(){return A})),t.d(d,"developerModeChanged",(function(){return k})),t.d(d,"developerModeStatusChanged",(function(){return M})),t.d(d,"componentAddedToStage",(function(){return I})),t.d(d,"connectedComponentAddedToStage",(function(){return x})),t.d(d,"anyComponentAddedToStage",(function(){return B})),t.d(d,"componentAnimationChanged",(function(){return W})),t.d(d,"componentDataChanged",(function(){return O})),t.d(d,"componentDesignChanged",(function(){return L})),t.d(d,"componentStyleChanged",(function(){return G})),t.d(d,"componentArrangementChanged",(function(){return j})),t.d(d,"componentDragEnded",(function(){return F})),t.d(d,"componentResizeStarted",(function(){return V})),t.d(d,"componentRotateEnded",(function(){return _})),t.d(d,"pageBackgroundChanged",(function(){return N})),t.d(d,"pageDuplicated",(function(){return U})),t.d(d,"sitePublishedDialogClosed",(function(){return z})),t.d(d,"switchedFromPreview",(function(){return q})),t.d(d,"mobileTextScaleChanged",(function(){return H})),t.d(d,"componentCropSaved",(function(){return J})),t.d(d,"toggleBackToTopButtonOn",(function(){return K})),t.d(d,"componentBehaviorChanged",(function(){return Q})),t.d(d,"componentPropsChanged",(function(){return X})),t.d(d,"switchedToMobileView",(function(){return Y})),t.d(d,"textEditBoxClosed",(function(){return Z})),t.d(d,"hideMobileElement",(function(){return $})),t.d(d,"showMobileElement",(function(){return ee})),t.d(d,"focusedPageChanged",(function(){return ne})),t.d(d,"instanceChanged",(function(){return te})),t.d(d,"componentSelectionChanged",(function(){return oe})),t.d(d,"pageRenamed",(function(){return de})),t.d(d,"addDynamicPageClicked",(function(){return ae})),t.d(d,"consentPolicyChanged",(function(){return re})),t.d(d,"undo",(function(){return ie})),t.d(d,"redo",(function(){return ce})),t.d(d,"addElementsCompClicked",(function(){return pe})),t.d(d,"addElementsAllCompsClicked",(function(){return le})),t.d(d,"addElementsResetClicked",(function(){return ue})),t.d(d,"appVisitedInDashboard",(function(){return se})),t.d(d,"componentAddedToApp",(function(){return fe})),t.d(d,"documentOperationError",(function(){return me})),t.d(d,"solveAddWidgetLimitation",(function(){return ge})),t.d(d,"componentConnected",(function(){return ve})),t.d(d,"componentDisconnected",(function(){return ye})),function(e){e.appMenuReorder="appMenuReorder",e.componentDeleted="componentDeleted",e.componentGfppClicked="componentGfppClicked",e.appActionClicked="appActionClicked",e.connectedComponentPasted="connectedComponentPasted",e.connectedComponentDuplicated="connectedComponentDuplicated",e.concurrentPanelEdit="concurrentPanelEdit",e.widgetPasted="widgetPasted",e.widgetDuplicated="widgetDuplicated",e.controllerAdded="controllerAdded",e.controllerSettingsButtonClicked="controllerSettingsButtonClicked",e.controllerGfppClicked="controllerGfppClicked",e.stateChanged="stateChanged",e.stateAdded="stateAdded",e.stateDuplicated="stateDuplicated",e.pageDeleted="pageDeleted",e.siteWasPublished="siteWasPublished",e.siteWasFirstSaved="siteWasFirstSaved",e.siteWasSaved="siteWasSaved",e.startConfiguration="startConfiguration",e.welcomeSectionMainActionClicked="welcomeSectionMainActionClicked",e.widgetGfppClicked="widgetGfppClicked",e.appUpgradeCompleted="appUpgradeCompleted",e.instanceChanged="instanceChanged",e.componentSelectionChanged="componentSelectionChanged",e.globalDesignPresetChanged="globalDesignPresetChanged",e.developerModeChanged="developerModeChanged",e.developerModeStatusChanged="developerModeStatusChanged",e.focusedPageChanged="focusedPageChanged",e.componentAddedToStage="componentAddedToStage",e.connectedComponentAddedToStage="connectedComponentAddedToStage",e.anyComponentAddedToStage="anyComponentAddedToStage",e.componentAnimationChanged="componentAnimationChanged",e.componentDataChanged="componentDataChanged",e.componentDesignChanged="componentDesignChanged",e.componentStyleChanged="componentStyleChanged",e.switchedFromPreview="switchedFromPreview",e.componentArrangementChanged="componentArrangementChanged",e.componentDragEnded="componentDragEnded",e.componentResizeStarted="componentResizeStarted",e.componentRotateEnded="componentRotateEnded",e.sitePublishedDialogClosed="sitePublishedDialogClosed",e.pageBackgroundChanged="pageBackgroundChanged",e.mobileTextScaleChanged="mobileTextScaleChanged",e.componentCropSaved="componentCropSaved",e.toggleBackToTopButtonOn="toggleBackToTopButtonOn",e.componentBehaviorChanged="componentBehaviorChanged",e.componentPropsChanged="componentPropsChanged",e.switchedToMobileView="switchedToMobileView",e.textEditBoxClosed="textEditBoxClosed",e.hideMobileElement="hideMobileElement",e.showMobileElement="showMobileElement",e.pageRenamed="pageRenamed",e.addDynamicPageClicked="addDynamicPageClicked",e.consentPolicyChanged="consentPolicyChanged",e.pageDuplicated="pageDuplicated",e.undo="undo",e.redo="redo",e.addElementsCompClicked="addElementsCompClicked",e.addElementsAllCompsClicked="addElementsAllCompsClicked",e.addElementsResetClicked="addElementsResetClicked",e.appVisitedInDashboard="appVisitedInDashboard",e.componentAddedToApp="componentAddedToApp",e.documentOperationError="documentOperationError",e.solveAddWidgetLimitation="solveAddWidgetLimitation",e.componentConnected="componentConnected",e.componentDisconnected="componentDisconnected"}(o||(o={}));o.componentSelectionChanged,o.focusedPageChanged,o.anyComponentAddedToStage,o.componentAnimationChanged,o.componentDataChanged,o.componentDesignChanged,o.componentStyleChanged,o.switchedFromPreview,o.componentArrangementChanged,o.componentDragEnded,o.componentResizeStarted,o.componentRotateEnded,o.sitePublishedDialogClosed,o.pageBackgroundChanged,o.mobileTextScaleChanged,o.componentCropSaved,o.toggleBackToTopButtonOn,o.componentBehaviorChanged,o.componentPropsChanged,o.switchedToMobileView,o.textEditBoxClosed,o.hideMobileElement,o.showMobileElement,o.undo,o.redo,o.appVisitedInDashboard,o.developerModeStatusChanged,o.componentConnected,o.componentDisconnected,o.solveAddWidgetLimitation,o.appMenuReorder,o.componentDeleted,o.componentGfppClicked,o.appActionClicked,o.connectedComponentPasted,o.connectedComponentDuplicated,o.concurrentPanelEdit,o.widgetPasted,o.widgetDuplicated,o.controllerAdded,o.controllerSettingsButtonClicked,o.controllerGfppClicked,o.stateChanged,o.stateAdded,o.stateDuplicated,o.pageDeleted,o.siteWasPublished,o.siteWasFirstSaved,o.siteWasSaved,o.startConfiguration,o.welcomeSectionMainActionClicked,o.widgetGfppClicked,o.appUpgradeCompleted,o.instanceChanged,o.globalDesignPresetChanged,o.developerModeChanged,o.connectedComponentAddedToStage,o.pageRenamed,o.addDynamicPageClicked,o.consentPolicyChanged,o.pageDuplicated,o.addElementsCompClicked,o.addElementsAllCompsClicked,o.addElementsResetClicked,o.componentAddedToApp,o.documentOperationError;function a({menuId:e,menuItemId:n,parentId:t,newIndex:d}){return{eventType:o.appMenuReorder,eventPayload:{menuId:e,menuItemId:n,parentId:t,newIndex:d}}}function r({componentRef:e,connections:n}){return{eventType:o.componentDeleted,eventPayload:{componentRef:e,connections:n}}}function i({id:e,role:n,componentRef:t,controllerRef:d}){return{eventType:o.componentGfppClicked,eventPayload:{id:e,role:n,componentRef:t,controllerRef:d}}}function c({actionId:e}){return{eventType:o.appActionClicked,eventPayload:{actionId:e}}}function p({componentRef:e,connection:n,originalComponentRef:t}){return{eventType:o.connectedComponentPasted,eventPayload:{componentRef:e,originalComponentRef:t,connection:n}}}function l({componentRef:e,connection:n,originalComponentRef:t}){return{eventType:o.connectedComponentDuplicated,eventPayload:{componentRef:e,originalComponentRef:t,connection:n}}}function u(){return{eventType:o.concurrentPanelEdit,eventPayload:{}}}function s({componentRef:e,originalComponentRef:n}){return{eventType:o.widgetPasted,eventPayload:{componentRef:e,originalComponentRef:n}}}function f({componentRef:e,originalComponentRef:n}){return{eventType:o.widgetDuplicated,eventPayload:{componentRef:e,originalComponentRef:n}}}function m({controllerRef:e,origin:n}){return{eventType:o.controllerAdded,eventPayload:{controllerRef:e,origin:n}}}function g({controllerRef:e,controllerConfig:n,controllerType:t,controllerDisplayName:d}){return{eventType:o.controllerSettingsButtonClicked,eventPayload:{controllerRef:e,controllerConfig:n,controllerType:t,controllerDisplayName:d,origin:"gfpp"}}}function v({id:e,controllerRef:n,controllerConfig:t,controllerType:d,controllerDisplayName:a}){return{eventType:o.controllerGfppClicked,eventPayload:{id:e,controllerRef:n,controllerConfig:t,controllerType:d,controllerDisplayName:a,origin:"gfpp"}}}function y({componentRef:e,selectedStateRef:n}){return{eventType:o.stateChanged,eventPayload:{componentRef:e,selectedStateRef:n}}}function C({componentRef:e,addedStateRef:n}){return{eventType:o.stateAdded,eventPayload:{componentRef:e,addedStateRef:n}}}function h({componentRef:e,newDuplicatedStateRef:n}){return{eventType:o.stateDuplicated,eventPayload:{componentRef:e,newDuplicatedStateRef:n}}}function R({pageRole:e}){return{eventType:o.pageDeleted,eventPayload:{pageRole:e}}}function P(){return{eventType:o.siteWasPublished}}function T({instanceId:e,instance:n,metaSiteId:t}){return{eventType:o.siteWasFirstSaved,eventPayload:{instanceId:e,instance:n,metaSiteId:t}}}function D({isAutosave:e}){return{eventType:o.siteWasSaved,eventPayload:{isAutosave:e}}}function E({token:e,initialData:n,origin:t,commonConfig:d}){return{eventType:o.startConfiguration,eventPayload:{token:e,initialData:n,origin:t,commonConfig:d}}}function w(){return{eventType:o.welcomeSectionMainActionClicked,eventPayload:{}}}function S({componentRef:e,id:n,gfppOrigin:t}){return{eventType:o.widgetGfppClicked,eventPayload:{id:n,componentRef:e,gfppOrigin:t}}}function b({vendorProductId:e,cycle:n,instance:t}){return{eventType:o.appUpgradeCompleted,eventPayload:{vendorProductId:e,cycle:n,instance:t}}}function A({componentRef:e,preset:n}){return{eventType:o.globalDesignPresetChanged,eventPayload:{preset:n,componentRef:e}}}function k({value:e}){return{eventType:o.developerModeChanged,eventPayload:{value:e}}}function M({status:e}){return{eventType:o.developerModeStatusChanged,eventPayload:{status:e}}}function I({componentType:e,compRef:n}){return{eventType:o.componentAddedToStage,eventPayload:{componentType:e,compRef:n}}}function x({componentType:e,compRef:n}){return{eventType:o.connectedComponentAddedToStage,eventPayload:{componentType:e,compRef:n}}}function B({componentType:e,compRef:n}){return{eventType:o.anyComponentAddedToStage,eventPayload:{componentType:e,compRef:n}}}function W({compRef:e}){return{eventType:o.componentAnimationChanged,eventPayload:{compRef:e}}}function O({compRef:e,previousData:n}){return{eventType:o.componentDataChanged,eventPayload:{compRef:e,previousData:n}}}function L({compRef:e}){return{eventType:o.componentDesignChanged,eventPayload:{compRef:e}}}function G({compRef:e}){return{eventType:o.componentStyleChanged,eventPayload:{compRef:e}}}function j({compRef:e}){return{eventType:o.componentArrangementChanged,eventPayload:{compRef:e}}}function F({compRef:e}){return{eventType:o.componentDragEnded,eventPayload:{compRef:e}}}function V({compRef:e}){return{eventType:o.componentResizeStarted,eventPayload:{compRef:e}}}function _({compRef:e}){return{eventType:o.componentRotateEnded,eventPayload:{compRef:e}}}function N({pageRef:e}){return{eventType:o.pageBackgroundChanged,eventPayload:{pageRef:e}}}function U({originalPageRef:e,duplicatedPageRef:n}){return{eventType:o.pageDuplicated,eventPayload:{originalPageRef:e,duplicatedPageRef:n}}}function z(){return{eventType:o.sitePublishedDialogClosed,eventPayload:{}}}function q(){return{eventType:o.switchedFromPreview,eventPayload:{}}}function H({compRef:e}){return{eventType:o.mobileTextScaleChanged,eventPayload:{compRef:e}}}function J({compRef:e}){return{eventType:o.componentCropSaved,eventPayload:{compRef:e}}}function K(){return{eventType:o.toggleBackToTopButtonOn,eventPayload:{}}}function Q({compRef:e}){return{eventType:o.componentBehaviorChanged,eventPayload:{compRef:e}}}function X({compRef:e}){return{eventType:o.componentPropsChanged,eventPayload:{compRef:e}}}function Y(){return{eventType:o.switchedToMobileView,eventPayload:{}}}function Z({compRef:e}){return{eventType:o.textEditBoxClosed,eventPayload:{compRef:e}}}function $({compRef:e}){return{eventType:o.hideMobileElement,eventPayload:{compRef:e}}}function ee({compRef:e}){return{eventType:o.showMobileElement,eventPayload:{compRef:e}}}function ne({pageRef:e}){return{eventType:o.focusedPageChanged,eventPayload:{pageRef:e}}}function te(e){return{eventType:o.instanceChanged,eventPayload:{instance:e}}}function oe(e){return{eventType:o.componentSelectionChanged,eventPayload:{componentRefs:e}}}function de({pageRef:e,title:n}){return{eventType:o.pageRenamed,eventPayload:{pageRef:e,title:n}}}function ae({origin:e,pageRef:n}){return{eventType:o.addDynamicPageClicked,eventPayload:{origin:e,pageRef:n}}}function re({currentPolicy:e}){return{eventType:o.consentPolicyChanged,eventPayload:{currentPolicy:e}}}function ie({label:e}){return{eventType:o.undo,eventPayload:{label:e}}}function ce({label:e}){return{eventType:o.redo,eventPayload:{label:e}}}function pe({label:e,isEssential:n,widgetRef:t}){return{eventType:o.addElementsCompClicked,eventPayload:{label:e,isEssential:n,widgetRef:t}}}function le({widgetRef:e}){return{eventType:o.addElementsAllCompsClicked,eventPayload:{widgetRef:e}}}function ue({widgetRef:e}){return{eventType:o.addElementsResetClicked,eventPayload:{widgetRef:e}}}function se({visitedAppDefIds:e}){return{eventType:o.appVisitedInDashboard,eventPayload:{visitedAppDefIds:e}}}function fe({widgetRef:e,compRef:n}){return{eventType:o.componentAddedToApp,eventPayload:{widgetRef:e,compRef:n}}}function me({methodName:e,error:n}){return{eventType:o.documentOperationError,eventPayload:{methodName:e,error:{name:n.name,message:n.message,stack:n.stack}}}}function ge({origin:e,widgetId:n}){return{eventType:o.solveAddWidgetLimitation,eventPayload:{origin:e,widgetId:n}}}function ve({controllerRef:e,compRef:n}){return{eventType:o.componentConnected,eventPayload:{controllerRef:e,compRef:n}}}function ye({controllerRef:e,compRef:n}){return{eventType:o.componentDisconnected,eventPayload:{controllerRef:e,compRef:n}}}var Ce=t(0),he=t.n(Ce);const Re={};"function"==typeof CustomEvent?Re.CustomEvent=CustomEvent:"function"==typeof Event?Re.CustomEvent=class extends Event{constructor(e,n){super(e,n),this.detail=n&&n.detail||null}}:"undefined"==typeof document?Re.CustomEvent=class{constructor(e,n){if(void 0===e)throw new TypeError("Not enough arguments");this.type=e,this.bubbles=n&&!!n.bubbles||!1,this.cancelable=n&&!!n.cancelable||!1,this.composed=n&&!!n.composed||!1,this.detail=n&&n.detail||null}}:
/*! (c) Andrea Giammarchi - ISC */
Re.CustomEvent=function(e){return n.prototype=new n("").constructor.prototype,n;function n(e,n){n||(n={});const t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!!n.bubbles,!!n.cancelable,n.detail),t}}();var Pe=Re.CustomEvent;const Te="undefined"==typeof globalThis?self:globalThis;function De(e){var n;return"function"==typeof(null===(n=e.source)||void 0===n?void 0:n.postMessage)}function Ee(e){return!!De(e)&&function(e){var n;const t=new URL(e);return(null===(n=Te.location)||void 0===n?void 0:n.hostname)===t.hostname||("static.parastorage.com"===t.hostname||t.hostname.endsWith(".wix.com")||t.hostname.endsWith(".editorx.com")||t.hostname.endsWith(".wix.dev"))}(e.origin)}let we;function Se(e){if(null==e)return!0;if(!we){const{port1:e}=new MessageChannel;we=e}try{we.postMessage(e)}catch(e){if("DataCloneError"===(null==e?void 0:e.name))return!1;throw e}return!0}const be={initMainFrame:function(){const e=new MessageChannel,n=e.port1,t=e.port2;Te.addEventListener("message",(function e(n){var o;if("event propagation: sender ready"!==(null===(o=n.data)||void 0===o?void 0:o.type))return;if(!Ee(n))return;Te.removeEventListener("message",e);const d={type:"event propagation: connect sender with main frame"};n.source.postMessage(d,n.origin,[t])})),Te.addEventListener("message",(function(e){var t;if("event propagation: receiver ready"!==(null===(t=e.data)||void 0===t?void 0:t.type))return;if(!De(e))return;const o=new MessageChannel,d={type:"event propagation: connect receiver with sender",applicationId:e.data.applicationId};n.postMessage(d,[o.port1]),e.source.postMessage(d,e.origin,[o.port2])}))},initSender:function(){let e=null;const n=new Set,t=new WeakMap;function o(e){var o;if("event propagation: connect receiver with sender"!==(null===(o=e.data)||void 0===o?void 0:o.type))return;const d=e.ports[0];n.add(d),t.set(d,{applicationId:e.data.applicationId}),d.addEventListener("message",(function e(t){var o;"event propagation: receiver close"===(null===(o=t.data)||void 0===o?void 0:o.type)&&(d.removeEventListener("message",e),n.delete(d))})),d.start()}const d=[];function a(o,a,r){var i;if(!e)return void d.push({eventType:o,eventPayload:a,options:r});const c={type:"event propagation: event from sender",eventType:o,eventPayload:Se(a)?a:he.a.cloneDeep(a)},p=(null===(i=null==r?void 0:r.onlyTo)||void 0===i?void 0:i.applicationId)&&parseInt(r.onlyTo.applicationId,10),l=p?Array.from(n).filter(e=>{var n;return(null===(n=t.get(e))||void 0===n?void 0:n.applicationId)===p}):n;for(const e of l)e.postMessage(c)}return Te.addEventListener("message",(function n(t){var r;if("event propagation: connect sender with main frame"===(null===(r=t.data)||void 0===r?void 0:r.type)&&Ee(t))for(Te.removeEventListener("message",n),e=t.ports[0],e.addEventListener("message",o),e.start();d.length;){const{eventType:e,eventPayload:n,options:t}=d.shift();a(e,n,t)}})),function n(){e||(Te.parent.postMessage({type:"event propagation: sender ready"},"*"),setTimeout(n,30))}(),{propagateEvent:a}},initReceiver:function(e,n){let t=null;function o(n){var t;if("event propagation: event from sender"!==(null===(t=n.data)||void 0===t?void 0:t.type))return;const{eventType:o,eventPayload:d}=n.data;e.__dispatchEvent(new Pe(o,{detail:d}))}Te.addEventListener("message",(function e(n){var d;"event propagation: connect receiver with sender"===(null===(d=n.data)||void 0===d?void 0:d.type)&&Ee(n)&&(Te.removeEventListener("message",e),Te.addEventListener("beforeunload",()=>{const e={type:"event propagation: receiver close"};null==t||t.postMessage(e)}),t=n.ports[0],t.addEventListener("message",o),t.start())}));const d={type:"event propagation: receiver ready",applicationId:n.applicationId};Te.parent.postMessage(d,"*")}}}])}));
//# sourceMappingURL=platformEvents.min.js.map